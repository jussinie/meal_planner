{% extends "layout.html" %}
{% block title %} {{ recipe_name }} {% endblock %}
{% block content %}
{% if session.username %}
<title>Add recipe</title>
<h3>Add new recipe!</h3>
{{ error }} <br>
<table>
    <form name="recipe_form" action="/send_recipe" method="post" onsubmit="return validateForm()">
        <tr>
            <td></td>
            <td></td>
            <td>
                Amount in grams:
            </td>
        </tr>
        <tr>
            <td>
                Name:
            </td>
            <td>
                <input type="text" name="name"> <br>
            </td>
        </tr>
        <tr>
            <td>
                Ingredient 1:
            </td>
            <td>
                <select name="ingredient">
                    {% for ingredient in all_ingredients %}
                    <option value="{{ ingredient.name }}">{{ingredient.name}}</option>
                    {% endfor %}
                </select>
            </td>
            <td>
                <input type="text" name="ingredient_amount">
            </td>
        </tr>
        <tr>
            <td>
                Ingredient 2:
            </td>
            <td>
                <select name="ingredient">
                    {% for ingredient in all_ingredients %}
                    <option value="{{ ingredient.name }}">{{ingredient.name}}</option>
                    {% endfor %}
                </select>
            </td>
            <td>
                <input type="text" name="ingredient_amount">
            </td>
        </tr> 
        <input type="submit" value="Add recipe">
    </form>
</table>
<a href="/">Siirry etusivulle</a>
<button onclick="myfunction()">testi</button>
<script>
    function myfunction() {
        alert("This is an alert");
    }
    </script>
<script>
    function validateForm() {
        let x = document.forms["recipe_form"]["name"].value;
        if (x == "") {
            alert("Name must be filled");
            return false;
        }
    }
</script>
{% endif %}
{% endblock %}